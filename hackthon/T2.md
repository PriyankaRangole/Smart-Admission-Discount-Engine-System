# Sprint 1 â€“ Task 2: Build Domain Layer Properly

We start with:

- BaseEntity
    
- Student
    
- Course
    
- Batch
    
- Registration
    
- Enums
    

---

# ğŸ“ Step 1 â€“ Create Folder Structure in Domain Project

Inside **Sunbeam.Admission.Domain**

Create folders:

Entities  
Enums  
Common

---

# ğŸ§± Step 2 â€“ Create BaseEntity

ğŸ“ Domain/Common/BaseEntity.cs

namespace Sunbeam.Admission.Domain.Common;  
  
public abstract class BaseEntity  
{  
    public DateTime CreatedAtUtc { get; set; } = DateTime.UtcNow;  
    public DateTime? UpdatedAtUtc { get; set; }  
}

This will help later for audit tracking.

---

# ğŸ”¢ Step 3 â€“ Create Enum

ğŸ“ Domain/Enums/RegistrationStatus.cs

namespace Sunbeam.Admission.Domain.Enums;  
  
public enum RegistrationStatus  
{  
    Reserved = 0,  
    Confirmed = 1,  
    Cancelled = 2,  
    Completed = 3  
}

---

# ğŸ‘¤ Step 4 â€“ Student Entity

ğŸ“ Domain/Entities/Student.cs

using Sunbeam.Admission.Domain.Common;  
  
namespace Sunbeam.Admission.Domain.Entities;  
  
public class Student : BaseEntity  
{  
    public Guid StudentId { get; set; }  
  
    public string Name { get; set; } = string.Empty;  
    public string Email { get; set; } = string.Empty;  
    public string? Phone { get; set; }  
  
    public ICollection<Registration> Registrations { get; set; }  
        = new List<Registration>();  
}

---

# ğŸ“š Step 5 â€“ Course Entity

using Sunbeam.Admission.Domain.Common;  
  
namespace Sunbeam.Admission.Domain.Entities;  
  
public class Course : BaseEntity  
{  
    public Guid CourseId { get; set; }  
  
    public string CourseName { get; set; } = string.Empty;  
    public string? Description { get; set; }  
    public bool IsActive { get; set; } = true;  
  
    public ICollection<Batch> Batches { get; set; }  
        = new List<Batch>();  
}

---

# ğŸ« Step 6 â€“ Batch Entity

using Sunbeam.Admission.Domain.Common;  
  
namespace Sunbeam.Admission.Domain.Entities;  
  
public class Batch : BaseEntity  
{  
    public Guid BatchId { get; set; }  
  
    public Guid CourseId { get; set; }  
    public Course Course { get; set; } = null!;  
  
    public string BatchCode { get; set; } = string.Empty;  
    public decimal FeeAmount { get; set; }  
    public int Capacity { get; set; }  
  
    public string Mode { get; set; } = string.Empty;  
    public string? Location { get; set; }  
  
    public bool IsActive { get; set; } = true;  
  
    public ICollection<Registration> Registrations { get; set; }  
        = new List<Registration>();  
}

---

# ğŸ“ Step 7 â€“ Registration Entity

(Remember: we chose one registration per batch per student)

using Sunbeam.Admission.Domain.Common;  
using Sunbeam.Admission.Domain.Enums;  
  
namespace Sunbeam.Admission.Domain.Entities;  
  
public class Registration : BaseEntity  
{  
    public Guid RegistrationId { get; set; }  
  
    public Guid StudentId { get; set; }  
    public Student Student { get; set; } = null!;  
  
    public Guid BatchId { get; set; }  
    public Batch Batch { get; set; } = null!;  
  
    public Guid CourseId { get; set; } // snapshot  
  
    public decimal BaseFee { get; set; }  
    public decimal DiscountAmount { get; set; }  
    public decimal FinalPayableAmount { get; set; }  
  
    public string? CouponCodeApplied { get; set; }  
  
    public RegistrationStatus Status { get; set; }  
        = RegistrationStatus.Reserved;  
}

---

# ğŸ§  Why Snapshot CourseId?

Because batch may change course later.  
We store course at time of registration.

This is real-world modeling.